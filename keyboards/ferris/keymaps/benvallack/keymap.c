#include QMK_KEYBOARD_H

// clang-format off
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
  [0] = LAYOUT(
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
          						    KC_Y, KC_C, KC_L,         KC_M,           KC_K,               KC_Z,          KC_F,         KC_U,         KC_COMM, KC_BSPC,
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
        	                        KC_I, KC_S, LALT_T(KC_R), LGUI_T(KC_T),   KC_G,               KC_P,          RGUI_T(KC_N), RALT_T(KC_E), KC_A,    KC_O,
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
           						    KC_Q, KC_V, KC_W,         KC_D,           KC_J,               KC_B,          KC_H,         KC_SLSH,      KC_DOT,  KC_X,
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
		    			                                      MEH_T(KC_SPC),  OSM(MOD_LSFT),      OSM(MOD_RCTL), TO(1)
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
  ),

  [1] = LAYOUT(
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
                                  KC_ESCAPE, KC_AT,   KC_HASH,    KC_DLR,     KC_PERC,            KC_CIRC, KC_AMPR, KC_ASTR, KC_SCLN, KC_BSPC,
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
                                  KC_TAB,    KC_EQL,  KC_GRV,     KC_QUOT,    KC_DQUO,            KC_BSLS, KC_LCBR, KC_RCBR, KC_PIPE, KC_ENT,
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
                                  KC_TILD,   KC_EXLM, LALT(KC_A), LALT(KC_W), LALT(KC_O),         KC_LBRC, KC_LPRN, KC_RPRN, KC_RBRC, TO(2),
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
		    					                                  TO(0),      OSM(MOD_LSFT),      KC_RALT, TO(3) 
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
  ),

  [2] = LAYOUT(
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
                      KC_ESCAPE, KC_MS_WH_LEFT, KC_MS_UP,    KC_MS_WH_RIGHT, KC_Q,                LALT(KC_LEFT), LCTL(LSFT(KC_TAB)), RCTL(KC_TAB),  LALT(KC_RIGHT), KC_BSPC, 
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
	                  KC_TAB,    KC_MS_LEFT,    KC_MS_DOWN,  KC_MS_RIGHT,    LGUI_T(KC_DEL),      KC_LEFT,       RGUI_T(KC_DOWN),    RALT_T(KC_UP), KC_RIGHT,       KC_ENT,     
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
                      KC_GRV,    KC_MS_BTN2,    KC_MS_WH_UP, KC_MS_WH_DOWN,  KC_TRANSPARENT,      KC_MS_BTN1,    KC_MS_ACCEL0,       KC_MS_ACCEL1,  KC_MS_ACCEL2,   KC_NO, 
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
                                                             TO(0),          KC_LGUI,             KC_RALT,       TO(1)
  ),

  [3] = LAYOUT(
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
    KC_ESCAPE, KC_MEDIA_PLAY_PAUSE, KC_MEDIA_PREV_TRACK, KC_MEDIA_NEXT_TRACK, LSFT(KC_MINS),      KC_MINS, KC_7, KC_8, KC_9, KC_BSPC,
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
    KC_TAB,    KC_TRANSPARENT,      KC_AUDIO_VOL_DOWN,   KC_AUDIO_VOL_UP,     KC_PLUS,            KC_EQL,  KC_4, KC_5, KC_6, KC_ENTER,
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
    QK_BOOT,   KC_KP_ASTERISK,      KC_BRIGHTNESS_DOWN,  KC_BRIGHTNESS_UP,    KC_DOT,             KC_0,    KC_1, KC_2, KC_3, TO(2),
  //---------------------------------------------------------------------------------------       ----------------------------------------------------------------------------------
	                                                     TO(0),               KC_LGUI,            KC_RALT, TO(1)
  )
};
// clang-format on

enum combos {
  IO_ESC,
  SA_SEMI
};

const uint16_t PROGMEM io_combo[] = {KC_I, KC_O, COMBO_END};
const uint16_t PROGMEM sa_combo[] = {KC_S, KC_A, COMBO_END};

combo_t key_combos[] = {
  [IO_ESC] = COMBO(io_combo, KC_ESC),
  [SA_SEMI] = COMBO(sa_combo, KC_SCLN)
};
